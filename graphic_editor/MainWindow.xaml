 <Window x:Class="graphic_editor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:graphic_editor"
        mc:Ignorable="d"
        Title="Графический редактор" Height="450" Width="800">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Панель инструментов -->
        <ToolBar Grid.Row="0" Background="LightGray">
            <Button x:Name="ToggleModeButton" Content="🔄 Switch Mode" 
                    Click="ToggleModeButton_Click" Margin="2"
                    ToolTip="Toggle between Draw and Move modes"/>
            <TextBlock x:Name="ModeIndicatorText" Text="📝 DRAW Mode" 
                      FontWeight="Bold" Margin="10,0" VerticalAlignment="Center"
                      Foreground="DarkBlue"/>
            <TextBlock Text="Tools:" FontWeight="Bold" Margin="5,0"/>

            <!-- Кнопки действий -->
            <Button x:Name="AddTextButton" Content="📝 Add Text" 
                    Click="AddTextButton_Click" Margin="2"/>
            
            <Button x:Name="AddImageButton" Content="🖼️ Add Image" 
            Click="AddImageButton_Click" Margin="2"
            ToolTip="Add image to canvas"/>
            
            <!-- Undo/Redo -->
            <Separator/>
            <Button x:Name="UndoButton" Content="↩️ Undo" Click="UndoButton_Click"
                    ToolTip="Undo last action (Ctrl+Z)" Margin="2"/>
            <Button x:Name="RedoButton" Content="↪️ Redo" Click="RedoButton_Click" 
                    ToolTip="Redo last action (Ctrl+Y)" Margin="2"/>

            <!-- Настройки кисти -->
            <Separator/>
            <TextBlock Text="Brush Color:" Margin="5,0" VerticalAlignment="Center"/>
            <ComboBox x:Name="ColorComboBox" Width="100" 
                      SelectionChanged="ColorComboBox_SelectionChanged"
                      ToolTip="Select brush color">
                <ComboBoxItem Background="Black" Content="Black" IsSelected="True"/>
                <ComboBoxItem Background="Red" Content="Red"/>
                <ComboBoxItem Background="Blue" Content="Blue"/>
                <ComboBoxItem Background="Green" Content="Green"/>
                <ComboBoxItem Background="Purple" Content="Purple"/>
                <ComboBoxItem Background="Orange" Content="Orange"/>
                <ComboBoxItem Background="Brown" Content="Brown"/>
                <ComboBoxItem Background="Pink" Content="Pink"/>
            </ComboBox>

            <TextBlock Text="Brush Size:" Margin="5,0" VerticalAlignment="Center"/>
            <ComboBox x:Name="SizeComboBox" Width="70"
                      SelectionChanged="SizeComboBox_SelectionChanged"
                      ToolTip="Select brush size">
                <ComboBoxItem Content="1"/>
                <ComboBoxItem Content="2" IsSelected="True"/>
                <ComboBoxItem Content="3"/>
                <ComboBoxItem Content="5"/>
                <ComboBoxItem Content="8"/>
                <ComboBoxItem Content="10"/>
                <ComboBoxItem Content="15"/>
                <ComboBoxItem Content="20"/>
            </ComboBox>

            <!-- Статус -->
            <Separator/>
            <TextBlock x:Name="StatusText" Text="Ready - Select color and size" 
                      Margin="10,0" VerticalAlignment="Center" FontStyle="Italic"/>
        </ToolBar>

        <!-- Холст для рисования -->
        <Border Grid.Row="1" BorderBrush="Gray" BorderThickness="1" Margin="10">
            <Canvas x:Name="DrawingCanvas" Background="White"
                    MouseDown="Canvas_MouseDown"
                    MouseUp="Canvas_MouseUp"
                    MouseMove="Canvas_MouseMove"
                    Cursor="Cross"/>
        </Border>
    </Grid>

</Window>
